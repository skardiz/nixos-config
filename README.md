# –ú–æ–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NixOS

–≠—Ç–æ –º–æ–π –ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è NixOS, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å –ø–æ–º–æ—â—å—é Nix Flakes. –¶–µ–ª—å ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—É—é –∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏ –≤—ã–≤–µ—Ä–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∏–≥—Ä –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

*   **–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ Flakes:** –í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –≤–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `flake.nix` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

*   **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ "–û–±—â–µ–µ / –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ":** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —Ç—Ä–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–ª–æ—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
    *   **`modules/`**: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ª–æ–π "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤". –°–æ–¥–µ—Ä–∂–∏—Ç —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ **"—Ñ–∏—á–∏"** (`features/`), –Ω–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π **"–ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"** —Å –æ–ø—Ü–∏—è–º–∏ (`options.nix`) –∏ –≥–æ—Ç–æ–≤—ã–µ **"–ø—Ä–æ—Ñ–∏–ª–∏"** (`profiles/`), –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç —Ñ–∏—á–∏ –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã.
    *   **`hosts/_common/`**: –°–ª–æ–π "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏". –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–µ, –Ω–µ–∑—ã–±–ª–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ **–≤—Å–µ–º** –º–∞—à–∏–Ω–∞–º –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
    *   **`hosts/<hostname>/`**: –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª–æ–π, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π **—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ** –∞—Å–ø–µ–∫—Ç—ã –∫–∞–∂–¥–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—à–∏–Ω—ã (–µ–µ –∂–µ–ª–µ–∑–æ, –∏–º—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏).

*   **Home Manager:** –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –æ–±—â–∏–µ (`_common`) –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

*   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω **WayDroid** —Å "—É–º–Ω—ã–º" —Å–µ—Ä–≤–∏—Å–æ–º-—Å—Ç–æ—Ä–æ–∂–µ–º, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç WayDroid –ø–æ—Å–ª–µ 5 –º–∏–Ω—É—Ç –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.

*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:**
    *   **–°–∫—Ä–∏–ø—Ç `publish.sh`:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, —Å–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –≤–∞—à–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.
    *   **–°–∫—Ä–∏–ø—Ç `nixos-rollback.sh`:** –ú–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è "–∂–µ—Å—Ç–∫–æ–≥–æ" –æ—Ç–∫–∞—Ç–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–≤–∫–ª—é—á–∞—è GitHub) –∫ –ª—é–±–æ–º—É –∫–æ–º–º–∏—Ç—É.
    *   **–°–∫—Ä–∏–ø—Ç `cleaner.sh`:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ Nix-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

*   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
    *   **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —è–¥—Ä–æ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `linuxPackages_zen` –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏.
    *   **–¢–≤–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** –í–∫–ª—é—á–µ–Ω—ã –∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ–ø—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è SSD, `zlib-ng` –∏ —Å–ª—É–∂–± –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –¥–µ—Å–∫—Ç–æ–ø–∞ (`rtkit`, `irqbalance`).

*   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ NVIDIA:** –í–∫–ª—é—á–µ–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA –¥–ª—è –∫–∞—Ä—Ç –ø–æ–∫–æ–ª–µ–Ω–∏—è Pascal.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–≥–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä–¥—Ü–µ–º –≤—Å–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

```
‚îú‚îÄ‚îÄ flake.nix # <<< –ì–ª–∞–≤–Ω—ã–π –≤—Ö–æ–¥ >>> –ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–π —Å—Ç–æ–ª –∏ —Ç–∞–º–æ–∂–Ω—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ hosts/ # <<< –ö–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä >>> –ó–¥–µ—Å—å –º—ã —Ä–µ—à–∞–µ–º, –∫–∞–∫–∏–µ –º–∞—à–∏–Ω—ã —É –Ω–∞—Å –µ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ shershulya/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–∞—à–∏–Ω—ã 'shershulya'
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ default.nix # -- –£–ù–ò–ö–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (–∏–º—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —è–¥—Ä–æ)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hardware-configuration.nix
‚îÇ   ‚îî‚îÄ‚îÄ _common/ # -- –û–ë–©–ò–ï, –ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´ –î–õ–Ø –•–û–°–¢–û–í --
‚îÇ   ‚îî‚îÄ‚îÄ default.nix # -- "–ö–û–ù–°–¢–ò–¢–£–¶–ò–Ø" -- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –º–∞—à–∏–Ω–∞–º
‚îÇ
‚îú‚îÄ‚îÄ modules/ # <<< –°–∫–ª–∞–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ >>> –ù–∞—à–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ features/ # –Ø—â–∏–∫–∏ —Å "—Ç—è–∂–µ–ª—ã–º–∏" —Ñ–∏—á–∞–º–∏ ("–ö–∏—Ä–ø–∏—á–∏–∫–∏")
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ android.nix
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ desktop.nix
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ hardware/ # –ú–æ–¥—É–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ nvidia-pascal.nix
‚îÇ   ‚îú‚îÄ‚îÄ options.nix # -- –ù–ê–® –ì–õ–ê–í–ù–´–ô "–ü–£–õ–¨–¢ –£–ü–†–ê–í–õ–ï–ù–ò–Ø" --
‚îÇ   ‚îî‚îÄ‚îÄ profiles/ # –ì–æ—Ç–æ–≤—ã–µ "–ù–ê–ë–û–†–´ LEGO" –∏–∑ —Ñ–∏—á
‚îÇ   ‚îî‚îÄ‚îÄ desktop.nix
‚îÇ
‚îú‚îÄ‚îÄ home/ # –õ–∏—á–Ω—ã–µ –≤–µ—â–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (dotfiles, –ø–∞–∫–µ—Ç—ã)
‚îÇ ...
‚îÇ
‚îî‚îÄ‚îÄ scripts/ # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
```

### –§–∏–ª–æ—Å–æ—Ñ–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: "–¢—Ä–∏ –∫–∏—Ç–∞"

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞ —Ç—Ä–µ—Ö –ø—Ä–æ—Å—Ç—ã—Ö, –Ω–æ –º–æ—â–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:

1.  **–ß—Ç–æ? (`modules/`)** ‚Äî "–ß—Ç–æ —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å?"
    –ó–¥–µ—Å—å –ª–µ–∂–∞—Ç –Ω–∞—à–∏ "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã". `features/` ‚Äî —ç—Ç–æ "–∫–∏—Ä–ø–∏—á–∏–∫–∏" (–¥–≤–∏–≥–∞—Ç–µ–ª—å, —à–∞—Å—Å–∏). `options.nix` ‚Äî —ç—Ç–æ "–ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" —Å –∫–Ω–æ–ø–∫–∞–º–∏. `profiles/` ‚Äî —ç—Ç–æ "–Ω–∞–±–æ—Ä—ã LEGO", —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∏–∑ –∫–∏—Ä–ø–∏—á–∏–∫–æ–≤. –≠—Ç–∏ –º–æ–¥—É–ª–∏ –Ω–µ –∑–Ω–∞—é—Ç, –Ω–∞ –∫–∞–∫–æ–π –º–∞—à–∏–Ω–µ –æ–Ω–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.

2.  **–ì–¥–µ? (`hosts/`)** ‚Äî "–ì–¥–µ –∏ –∫–∞–∫ —è —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é?"
    –≠—Ç–æ –Ω–∞—à–µ "–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –±—é—Ä–æ". `_common/` ‚Äî —ç—Ç–æ "–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è" –∏ —Ç–∏–ø–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã. `shershulya/` ‚Äî —ç—Ç–æ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–µ—Ä—Ç–µ–∂**, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç: "–ë–µ—Ä–µ–º —Ç–∏–ø–æ–≤–æ–π –ø—Ä–æ–µ–∫—Ç, —Å—Ç—Ä–æ–∏–º –µ–≥–æ –Ω–∞ —ç—Ç–æ–º —É—á–∞—Å—Ç–∫–µ (`hardware-configuration.nix`) –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –µ–º—É –∞–¥—Ä–µ—Å (`networking.hostName`)".

3.  **–ö—Ç–æ? (`home/`)** ‚Äî "–ö—Ç–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∂–∏—Ç—å?"
    –≠—Ç–æ –ª–∏—á–Ω—ã–µ –≤–µ—â–∏ –∫–∞–∂–¥–æ–≥–æ –∂–∏–ª—å—Ü–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–µ–∑–∂–∞—é—Ç —Å –Ω–∏–º –∏–∑ –æ–¥–Ω–æ–≥–æ "–¥–æ–º–∞" –≤ –¥—Ä—É–≥–æ–π.

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
–î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫ —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:
`sudo nixos-rebuild switch --flake .#shershulya`

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω—ã
–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º –∏ —Å–∏—Å—Ç–µ–º–æ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ –ø–∞–ø–∫–∏ `scripts/`.

*   **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ GitHub:**
    ```
    ./scripts/publish.sh
    ```
    –°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç —É –≤–∞—Å –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –ø–æ—Å–ª–µ —á–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥, –≤—ã–ø–æ–ª–Ω–∏—Ç `git add`, `git commit` –∏ `git push`.

*   **–û—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã:**
    ```
    sudo ./scripts/cleaner.sh
    ```
    –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç –æ—á–∏—Å—Ç–∫—É Nix-—Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –æ—Ç —Å—Ç–∞—Ä—ã—Ö –ø–æ–∫–æ–ª–µ–Ω–∏–π. *(–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Å–∏—Å—Ç–µ–º–∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—É—é –æ—á–∏—Å—Ç–∫—É)*.

*   **–û—Ç–∫–∞—Ç –∫ –∫–æ–º–º–∏—Ç—É:**
    ```
    ./scripts/nixos-rollback.sh
    ```
    –ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é!**

## üîß –ö–ª—é—á–µ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

*   **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** KDE Plasma 6 –Ω–∞ Wayland, Display Manager SDDM (—Å –∞–≤—Ç–æ–ª–æ–≥–∏–Ω–æ–º –¥–ª—è `alex`).
*   **–õ–æ–∫–∞–ª—å:** –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ (`ru_RU.UTF-8`) –∏ —Ä—É—Å—Å–∫–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (`ru`).
*   **–Ø–¥—Ä–æ:** `linuxPackages_zen`.
*   **–î—Ä–∞–π–≤–µ—Ä—ã:** –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA.
*   **–ê—É–¥–∏–æ:** PipeWire.
*   **–ò–≥—Ä—ã:** Steam, GameMode, MangoHud.
*   **Android:** WayDroid —Å GApps.
*   **–°–µ—Ä–≤–∏—Å—ã:** AmneziaVPN.

## üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| `sudo nixos-rebuild switch --flake .#shershulya` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–µ. |
| `nix flake update` | –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `flake.lock`. |
| `nixos-rebuild build-vm --flake .#shershulya` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ QEMU –¥–ª—è —Ç–µ—Å—Ç–∞. |



